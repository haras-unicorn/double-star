{"schemas":"DEFINE TABLE OVERWRITE chat SCHEMAFULL;\n\nDEFINE FIELD OVERWRITE id ON chat TYPE string DEFAULT rand::ulid();\nDEFINE FIELD OVERWRITE timestamp ON chat TYPE datetime DEFAULT time::now();\nDEFINE FIELD OVERWRITE last_interaction ON chat TYPE option<datetime>;\n\nDEFINE INDEX OVERWRITE chat_timestamp ON chat FIELDS timestamp;\nDEFINE INDEX OVERWRITE chat_last_interaction ON chat FIELDS last_interaction;\n\nDEFINE TABLE OVERWRITE file SCHEMAFULL;\n\nDEFINE FIELD OVERWRITE id ON file TYPE string DEFAULT rand::ulid();\nDEFINE FIELD OVERWRITE timestamp ON file TYPE datetime DEFAULT time::now();\nDEFINE FIELD OVERWRITE data ON file TYPE bytes;\nDEFINE FIELD OVERWRITE title ON file TYPE string;\nDEFINE FIELD OVERWRITE extension ON file TYPE string;\nDEFINE FIELD OVERWRITE description ON file TYPE string;\nDEFINE FIELD OVERWRITE embedding ON file TYPE array<float>;\n\nDEFINE ANALYZER OVERWRITE file_title_description_analyzer TOKENIZERS class FILTERS snowball(english);\n\nDEFINE INDEX OVERWRITE file_extension_timestamp ON file FIELDS extension, timestamp;\nDEFINE INDEX OVERWRITE file_timestamp ON file FIELDS timestamp;\nDEFINE INDEX OVERWRITE file_title_description ON file FIELDS title, description SEARCH ANALYZER file_title_description_analyzer BM25 HIGHLIGHTS;\nDEFINE INDEX OVERWRITE file_embedding ON file FIELDS embedding HNSW DIMENSION 4 DIST EUCLIDEAN EFC 150 M 12;\n\nDEFINE TABLE OVERWRITE attached_to TYPE RELATION FROM file TO message;\n\nDEFINE TABLE OVERWRITE message SCHEMAFULL;\n\nDEFINE FIELD OVERWRITE id ON message TYPE string DEFAULT rand::ulid();\nDEFINE FIELD OVERWRITE timestamp ON message TYPE datetime DEFAULT time::now();\nDEFINE FIELD OVERWRITE content ON message TYPE string;\nDEFINE FIELD OVERWRITE sender ON message TYPE string;\n\nDEFINE ANALYZER OVERWRITE message_content_analyzer TOKENIZERS class FILTERS snowball(english);\n\nDEFINE INDEX OVERWRITE message_timestamp ON message FIELDS timestamp;\nDEFINE INDEX OVERWRITE message_content ON message FIELDS content SEARCH ANALYZER message_content_analyzer BM25 HIGHLIGHTS;\n\nDEFINE TABLE OVERWRITE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD OVERWRITE script_name ON script_migration TYPE string;\nDEFINE FIELD OVERWRITE executed_at ON script_migration TYPE datetime DEFAULT time::now() READONLY;","events":"DEFINE TABLE OVERWRITE posted_in SCHEMAFULL TYPE RELATION FROM message TO chat;\n\nDEFINE EVENT OVERWRITE posted_in ON TABLE posted_in WHEN $event == \"CREATE\" THEN (\n  UPDATE $this.out SET last_interaction = time::now()\n);\n"}